# üì± –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Luggify

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏](#–æ–±—â–∞—è-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è-–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
3. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
4. [–°–≤—è–∑—å —Å –±—ç–∫–µ–Ω–¥–æ–º](#—Å–≤—è–∑—å-—Å-–±—ç–∫–µ–Ω–¥–æ–º)
5. [–î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#–¥–µ—Ç–∞–ª—å–Ω—ã–π-—Ä–∞–∑–±–æ—Ä-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
6. [–ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö](#–ø–æ—Ç–æ–∫-–¥–∞–Ω–Ω—ã—Ö)
7. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –ø–æ—á–µ–º—É –æ–Ω–∏ –≤—ã–±—Ä–∞–Ω—ã](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏-–∏-–ø–æ—á–µ–º—É-–æ–Ω–∏-–≤—ã–±—Ä–∞–Ω—ã)
8. [–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –í–µ—â–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é](#–Ω–æ–≤–∞—è-—Ñ—É–Ω–∫—Ü–∏—è-–≤–µ—â–∏-–ø–æ-—É–º–æ–ª—á–∞–Ω–∏—é)
9. [–í–æ–ø—Ä–æ—Å—ã –¥–ª—è –∑–∞—â–∏—Ç—ã](#–≤–æ–ø—Ä–æ—Å—ã-–¥–ª—è-–∑–∞—â–∏—Ç—ã)

---

## –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

**Luggify** ‚Äî —ç—Ç–æ Android-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —É–º–Ω—ã—Ö —á–µ–∫–ª–∏—Å—Ç–æ–≤ –≤–µ—â–µ–π –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏–π.

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
1. ‚úàÔ∏è **–ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤** ‚Äî –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é API
2. üìÖ **–í—ã–±–æ—Ä –¥–∞—Ç** ‚Äî –≤—ã–±–æ—Ä –¥–∞—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
3. üéí **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ–∫–ª–∏—Å—Ç–∞** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –≤–µ—â–µ–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–≥–æ–¥—ã
4. ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–æ–º** ‚Äî –æ—Ç–º–µ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –≤–µ—â–µ–π, —É–¥–∞–ª–µ–Ω–∏–µ, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö
5. üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–æ–≤** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ "–ú–æ–∏ —á–µ–∫–ª–∏—Å—Ç—ã"
6. üîÑ **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫** ‚Äî –≥–æ—Ä–æ–¥ –∏ –¥–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –º–µ–∂–¥—É –∑–∞–ø—É—Å–∫–∞–º–∏
7. ‚≠ê **–í–µ—â–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** ‚Äî —Å–ø–∏—Å–æ–∫ –≤–µ—â–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫–∞–∂–¥—ã–π —á–µ–∫–ª–∏—Å—Ç

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:
- **–Ø–∑—ã–∫:** Kotlin
- **UI:** Jetpack Compose (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π UI)
- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** MVVM (Model-View-ViewModel)
- **–°–µ—Ç—å:** Retrofit + OkHttp
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å:** Kotlin Coroutines
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è:** Navigation Compose
- **–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:** DataStore (–∑–∞–º–µ–Ω–∞ SharedPreferences)
- **–î–∏–∑–∞–π–Ω:** Material Design 3

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **MVVM (Model-View-ViewModel)** ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—É—é Google –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –¥–ª—è Android.

### –ü–æ—á–µ–º—É MVVM?
- ‚úÖ **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** ‚Äî UI –æ—Ç–¥–µ–ª–µ–Ω –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî ViewModel –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ UI
- ‚úÖ **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** ‚Äî –ª–æ–≥–∏–∫–∞ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞
- ‚úÖ **Reactive** ‚Äî UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —Å—Ö–µ–º–∞:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                UI Layer (Compose)                   ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ  ‚îÇ   Screens    ‚îÇ  ‚îÇ  Components  ‚îÇ  ‚îÇ  Theme   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ HomeScreen   ‚îÇ  ‚îÇ  CitySelect  ‚îÇ  ‚îÇ  Colors  ‚îÇ ‚îÇ
‚îÇ  ‚îÇ ChecklistScr ‚îÇ  ‚îÇ  DatePicker  ‚îÇ  ‚îÇ  Fonts   ‚îÇ ‚îÇ
‚îÇ  ‚îÇ MyChecklists ‚îÇ  ‚îÇ  CheckItem   ‚îÇ  ‚îÇ  Shapes  ‚îÇ ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
          ‚îÇ                  ‚îÇ
          ‚ñº                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              ViewModel Layer                        ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ        LuggifyViewModel                     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - –£–ø—Ä–∞–≤–ª—è–µ—Ç UiState                        ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –æ—Ç UI                ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - –í—ã–∑—ã–≤–∞–µ—Ç Repository                      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç DataStore                     ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                Data Layer                           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  Repository   ‚îÇ  ‚îÇ   UserPreferences       ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - getCities  ‚îÇ  ‚îÇ   DataStore             ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - generate   ‚îÇ  ‚îÇ   - saveCity            ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - update     ‚îÇ  ‚îÇ   - saveDates           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - delete     ‚îÇ  ‚îÇ   - defaultItems        ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îÇ          ‚îÇ                                          ‚îÇ
‚îÇ          ‚ñº                                          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ  LuggifyApi   ‚îÇ  ‚îÇ      Models             ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  (Retrofit)   ‚îÇ  ‚îÇ   - Checklist           ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  - Endpoints  ‚îÇ  ‚îÇ   - City                ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
    Backend API (FastAPI)
    https://luggify.onrender.com
```

### –ü–æ—á–µ–º—É —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω:
1. **UI** –Ω–µ –∑–Ω–∞–µ—Ç –æ—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –¥–∞–Ω–Ω—ã–µ (API –∏–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
2. **ViewModel** –Ω–µ –∑–Ω–∞–µ—Ç –æ –¥–µ—Ç–∞–ª—è—Ö UI (–º–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å Compose –Ω–∞ XML)
3. **Repository** —Å–∫—Ä—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (–º–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–æ–π API)

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
android-app/app/src/main/java/com/luggify/app/
‚îÇ
‚îú‚îÄ‚îÄ MainActivity.kt                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞, –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ data/                              # –°–ª–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ApiClient.kt              # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Retrofit
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ LuggifyApi.kt             # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å API endpoints
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ datastore/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UserPreferencesDataStore.kt  # –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ City.kt                   # –ú–æ–¥–µ–ª—å –≥–æ—Ä–æ–¥–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Checklist.kt             # –ú–æ–¥–µ–ª–∏ —á–µ–∫–ª–∏—Å—Ç–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ repository/
‚îÇ       ‚îî‚îÄ‚îÄ LuggifyRepository.kt     # –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è –Ω–∞–¥ API
‚îÇ
‚îú‚îÄ‚îÄ ui/                                # –°–ª–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ components/                   # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ CitySelect.kt            # –í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞ —Å –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ DateRangePicker.kt      # –í—ã–±–æ—Ä –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–∞—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChecklistItem.kt        # –≠–ª–µ–º–µ–Ω—Ç —á–µ–∫–ª–∏—Å—Ç–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ WeatherForecast.kt      # –ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DefaultItemsManager.kt  # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—â–∞–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ screens/                      # –≠–∫—Ä–∞–Ω—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen.kt            # –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ChecklistScreen.kt      # –≠–∫—Ä–∞–Ω —á–µ–∫–ª–∏—Å—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ MyChecklistsScreen.kt   # –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —á–µ–∫–ª–∏—Å—Ç—ã
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ theme/                        # –¢–µ–º–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Color.kt                 # –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Theme.kt                # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Type.kt                  # –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ viewmodel/
‚îÇ       ‚îî‚îÄ‚îÄ LuggifyViewModel.kt      # ViewModel —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
‚îÇ
‚îî‚îÄ‚îÄ utils/
    ‚îî‚îÄ‚îÄ UserIdHelper.kt              # –ü–æ–ª—É—á–µ–Ω–∏–µ ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
```

---

## –°–≤—è–∑—å —Å –±—ç–∫–µ–Ω–¥–æ–º

### Backend URL
```
https://luggify.onrender.com
```

### API Endpoints –∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

#### 1. **–ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤** 
```
GET /geo/cities-autocomplete?namePrefix={query}
```
**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:** –ü—Ä–∏ –≤–≤–æ–¥–µ —Ç–µ–∫—Å—Ç–∞ –≤ –ø–æ–ª–µ –≤—ã–±–æ—Ä–∞ –≥–æ—Ä–æ–¥–∞ (—Å debounce 300–º—Å)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```
GET https://luggify.onrender.com/geo/cities-autocomplete?namePrefix=–ú–æ—Å–∫
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
[
  {
    "name": "–ú–æ—Å–∫–≤–∞",
    "country": "–†–æ—Å—Å–∏—è",
    "lat": 55.7558,
    "lon": 37.6173,
    "fullName": "–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è"
  }
]
```

**–ö–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
```kotlin
// LuggifyApi.kt
@GET("geo/cities-autocomplete")
suspend fun getCities(
    @Query("namePrefix") namePrefix: String
): Response<List<City>>
```

---

#### 2. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ–∫–ª–∏—Å—Ç–∞**
```
POST /generate-packing-list
```
**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:** –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫"

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "city": "–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è",
  "start_date": "2024-12-25",
  "end_date": "2024-12-30"
}
```

**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{
  "slug": "abc123xyz",
  "city": "–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è",
  "start_date": "2024-12-25",
  "end_date": "2024-12-30",
  "items": [
    "–ü–∞—Å–ø–æ—Ä—Ç",
    "–¢–µ–ø–ª–∞—è –∫—É—Ä—Ç–∫–∞",
    "–®–∞—Ä—Ñ",
    "–ü–µ—Ä—á–∞—Ç–∫–∏"
  ],
  "avg_temp": -5.2,
  "conditions": ["–°–Ω–µ–≥", "–û–±–ª–∞—á–Ω–æ"],
  "daily_forecast": [
    {
      "date": "2024-12-25",
      "temp_min": -8.0,
      "temp_max": -3.0,
      "condition": "–°–Ω–µ–≥",
      "icon": "13d"
    }
  ]
}
```

**–ö–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
```kotlin
// LuggifyApi.kt
@POST("generate-packing-list")
suspend fun generatePackingList(
    @Body request: PackingRequest
): Response<Checklist>
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤–µ—â–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã).

---

#### 3. **–ü–æ–ª—É—á–µ–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–∞ –ø–æ slug**
```
GET /checklist/{slug}
```
**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:** –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–µ–∫–ª–∏—Å—Ç–∞ –ø–æ —Å—Å—ã–ª–∫–µ –∏–ª–∏ –∏–∑ "–ú–æ–∏ —á–µ–∫–ª–∏—Å—Ç—ã"

**–ü—Ä–∏–º–µ—Ä:**
```
GET https://luggify.onrender.com/checklist/abc123xyz
```

**–ö–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
```kotlin
@GET("checklist/{slug}")
suspend fun getChecklist(
    @Path("slug") slug: String
): Response<Checklist>
```

---

#### 4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —á–µ–∫–ª–∏—Å—Ç–∞**
```
PATCH /checklist/{slug}/state
```
**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:** –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è" (–æ—Ç–º–µ—á–µ–Ω–Ω—ã–µ/—É–¥–∞–ª–µ–Ω–Ω—ã–µ/–¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≤–µ—â–∏)

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "checked_items": ["–ü–∞—Å–ø–æ—Ä—Ç", "–¢–µ–ø–ª–∞—è –∫—É—Ä—Ç–∫–∞"],
  "removed_items": ["–®–∞—Ä—Ñ"],
  "added_items": ["–ó–∞—Ä—è–¥–∫–∞ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞"],
  "items": ["–ü–∞—Å–ø–æ—Ä—Ç", "–¢–µ–ø–ª–∞—è –∫—É—Ä—Ç–∫–∞", "–ü–µ—Ä—á–∞—Ç–∫–∏"]
}
```

**–ö–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
```kotlin
@PATCH("checklist/{slug}/state")
suspend fun updateChecklistState(
    @Path("slug") slug: String,
    @Body state: ChecklistStateUpdate
): Response<Checklist>
```

---

#### 5. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ "–ú–æ–∏ —á–µ–∫–ª–∏—Å—Ç—ã"**
```
POST /save-tg-checklist
```
**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:** –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ –º–æ–∏ —á–µ–∫–ª–∏—Å—Ç—ã"

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "city": "–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è",
  "start_date": "2024-12-25",
  "end_date": "2024-12-30",
  "items": ["–ü–∞—Å–ø–æ—Ä—Ç", "–ö—É—Ä—Ç–∫–∞"],
  "tg_user_id": "android_device_123456",
  "checked_items": ["–ü–∞—Å–ø–æ—Ä—Ç"],
  "removed_items": [],
  "added_items": ["–ó–∞—Ä—è–¥–∫–∞"]
}
```

**–ö–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
```kotlin
@POST("save-tg-checklist")
suspend fun saveChecklist(
    @Body checklist: ChecklistCreate
): Response<Checklist>
```

---

#### 6. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —á–µ–∫–ª–∏—Å—Ç–æ–≤**
```
GET /tg-checklists/{user_id}
```
**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:** –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —ç–∫—Ä–∞–Ω–∞ "–ú–æ–∏ —á–µ–∫–ª–∏—Å—Ç—ã"

**–ü—Ä–∏–º–µ—Ä:**
```
GET https://luggify.onrender.com/tg-checklists/android_device_123456
```

**–ö–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
```kotlin
@GET("tg-checklists/{user_id}")
suspend fun getMyChecklists(
    @Path("user_id") userId: String
): Response<List<Checklist>>
```

---

#### 7. **–£–¥–∞–ª–µ–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–∞**
```
DELETE /checklist/{slug}
```
**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:** –ü—Ä–∏ —Å–≤–∞–π–ø–µ –∏ —É–¥–∞–ª–µ–Ω–∏–∏ —á–µ–∫–ª–∏—Å—Ç–∞ –∏–∑ "–ú–æ–∏ —á–µ–∫–ª–∏—Å—Ç—ã"

**–ö–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏:**
```kotlin
@DELETE("checklist/{slug}")
suspend fun deleteChecklist(
    @Path("slug") slug: String
): Response<Unit>
```

---

## –î–µ—Ç–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 1. MainActivity.kt ‚Äî –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞

```kotlin
class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        
        // –ü–æ–ª—É—á–∞–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (ANDROID_ID)
        val userId = UserIdHelper.getUserId(this)
        
        // –°–æ–∑–¥–∞–µ–º DataStore –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
        val userPreferencesDataStore = UserPreferencesDataStore(this)
        
        // –°–æ–∑–¥–∞–µ–º ViewModel —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏
        val viewModel = LuggifyViewModel(
            userId = userId,
            userPreferencesDataStore = userPreferencesDataStore
        )
        
        // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Compose UI
        setContent {
            LuggifyTheme {
                LuggifyApp(viewModel = viewModel)
            }
        }
    }
}
```

**–ü–æ—á–µ–º—É —Ç–∞–∫:**
- `ComponentActivity` ‚Äî –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è Compose –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- `setContent` ‚Äî —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ—Ä–Ω–µ–≤–æ–π Compose —ç–ª–µ–º–µ–Ω—Ç (–≤–º–µ—Å—Ç–æ XML)
- `LuggifyTheme` ‚Äî –ø—Ä–∏–º–µ–Ω—è–µ—Ç –Ω–∞—à—É —Ç–µ–º—É –∫–æ –≤—Å–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

---

### 2. LuggifyApp ‚Äî –ù–∞–≤–∏–≥–∞—Ü–∏—è

```kotlin
@Composable
fun LuggifyApp(viewModel: LuggifyViewModel) {
    val navController = rememberNavController()

    NavHost(
        navController = navController,
        startDestination = "home"
    ) {
        composable("home") {
            HomeScreen(...)
        }
        
        composable("checklist/{slug}") { backStackEntry ->
            val slug = backStackEntry.arguments?.getString("slug")
            ChecklistScreen(slug = slug, ...)
        }
        
        composable("my-checklists") {
            MyChecklistsScreen(...)
        }
    }
}
```

**–ü–æ—á–µ–º—É Navigation Compose:**
- ‚úÖ –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–∫–∞–∫ –≤ React Router)
- ‚úÖ Type-safe –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ back stack
- ‚úÖ Deep links –∏–∑ –∫–æ—Ä–æ–±–∫–∏

**–ú–∞—Ä—à—Ä—É—Ç—ã:**
- `home` ‚Äî –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- `checklist/{slug}` ‚Äî —ç–∫—Ä–∞–Ω —á–µ–∫–ª–∏—Å—Ç–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º
- `my-checklists` ‚Äî —Å–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö

---

### 3. UserIdHelper ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ ID —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

```kotlin
object UserIdHelper {
    fun getUserId(context: Context): String {
        return Settings.Secure.getString(
            context.contentResolver,
            Settings.Secure.ANDROID_ID
        ) ?: "android_user_${System.currentTimeMillis()}"
    }
}
```

**–ü–æ—á–µ–º—É ANDROID_ID:**
- ‚úÖ –£–Ω–∏–∫–∞–ª–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- ‚úÖ –ù–µ –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ Telegram user_id

**Fallback:** –ï—Å–ª–∏ ANDROID_ID –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω—ã–π ID –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ä–µ–º–µ–Ω–∏.

---

### 4. UserPreferencesDataStore ‚Äî –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

```kotlin
private val Context.dataStore: DataStore<Preferences> by preferencesDataStore(
    name = "user_preferences"
)

class UserPreferencesDataStore(private val context: Context) {
    private val gson = Gson()
    
    // –ö–ª—é—á–∏ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
    private val CITY_KEY = stringPreferencesKey("selected_city")
    private val START_DATE_KEY = longPreferencesKey("start_date")
    private val END_DATE_KEY = longPreferencesKey("end_date")
    private val DEFAULT_ITEMS_KEY = stringPreferencesKey("default_items")
    
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
    suspend fun saveCity(city: City) {
        context.dataStore.edit { preferences ->
            preferences[CITY_KEY] = gson.toJson(city)
        }
    }
    
    // –ü–æ–ª—É—á–µ–Ω–∏–µ –≥–æ—Ä–æ–¥–∞
    suspend fun getCity(): City? {
        val preferences = context.dataStore.data.first()
        return preferences[CITY_KEY]?.let { cityJson ->
            gson.fromJson(cityJson, City::class.java)
        }
    }
}
```

**–ü–æ—á–µ–º—É DataStore –≤–º–µ—Å—Ç–æ SharedPreferences:**
1. ‚úÖ **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å** ‚Äî –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI –ø–æ—Ç–æ–∫
2. ‚úÖ **Type-safe** ‚Äî –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫ —Å —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
3. ‚úÖ **–ö–æ—Ä—É—Ç–∏–Ω—ã** ‚Äî –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Kotlin
4. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Äî –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- –í—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ—Ä–æ–¥ (JSON)
- –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ (timestamp)
- –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è (timestamp)
- –°–ø–∏—Å–æ–∫ –≤–µ—â–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (JSON array)

---

### 5. ApiClient ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Retrofit

```kotlin
object ApiClient {
    private const val BASE_URL = "https://luggify.onrender.com/"
    
    // HTTP-–∫–ª–∏–µ–Ω—Ç —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
    private val okHttpClient = OkHttpClient.Builder()
        .addInterceptor(HttpLoggingInterceptor().apply {
            level = HttpLoggingInterceptor.Level.BODY
        })
        .connectTimeout(60, TimeUnit.SECONDS)
        .readTimeout(60, TimeUnit.SECONDS)
        .writeTimeout(60, TimeUnit.SECONDS)
        .retryOnConnectionFailure(true)
        .build()
    
    // Retrofit —Å JSON –∫–æ–Ω–≤–µ—Ä—Ç–µ—Ä–æ–º
    private val retrofit = Retrofit.Builder()
        .baseUrl(BASE_URL)
        .client(okHttpClient)
        .addConverterFactory(GsonConverterFactory.create())
        .build()
    
    val api: LuggifyApi = retrofit.create(LuggifyApi::class.java)
}
```

**–ü–æ—á–µ–º—É Retrofit:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ endpoints —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ—Ä—É—Ç–∏–Ω (suspend —Ñ—É–Ω–∫—Ü–∏–∏)
- ‚úÖ –ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è Android

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤:**
- `connectTimeout(60s)` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- `readTimeout(60s)` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è —á—Ç–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞
- `writeTimeout(60s)` ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
- –≠—Ç–æ –Ω—É–∂–Ω–æ –ø–æ—Ç–æ–º—É —á—Ç–æ –±—ç–∫ –Ω–∞ Render –º–æ–∂–µ—Ç "–∑–∞—Å—ã–ø–∞—Ç—å" (cold start)

---

### 6. LuggifyRepository ‚Äî –°–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏

```kotlin
class LuggifyRepository {
    private val api = ApiClient.api
    
    // –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ API-–≤—ã–∑–æ–≤–æ–≤
    private suspend fun <T> handleApiCall(
        call: suspend () -> Response<T>,
        errorMessage: String
    ): Result<T> {
        return try {
            val response = call()
            when {
                response.isSuccessful && response.body() != null -> {
                    Result.success(response.body()!!)
                }
                else -> {
                    val errorBody = response.errorBody()?.string() 
                        ?: "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞"
                    Result.failure(
                        Exception("$errorMessage (${response.code()}): $errorBody")
                    )
                }
            }
        } catch (e: SocketTimeoutException) {
            Result.failure(Exception("–¢–∞–π–º–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è"))
        } catch (e: UnknownHostException) {
            Result.failure(Exception("–ù–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞"))
        } catch (e: IOException) {
            Result.failure(Exception("–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${e.message}"))
        }
    }
}
```

**–ü–æ—á–µ–º—É Repository –ø–∞—Ç—Ç–µ—Ä–Ω:**
1. ‚úÖ **–ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º** ‚Äî ViewModel –Ω–µ –∑–Ω–∞–µ—Ç –æ—Ç–∫—É–¥–∞ –¥–∞–Ω–Ω—ã–µ
2. ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
3. ‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å** ‚Äî –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∑–∞–º–æ–∫–∞—Ç—å Repository
4. ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** ‚Äî –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –¥—Ä—É–≥–æ–π API

**–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–µ –æ—à–∏–±–∫–∏:**
- `SocketTimeoutException` ‚Äî —Å–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
- `UnknownHostException` ‚Äî –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- `IOException` ‚Äî –æ–±—â–∞—è —Å–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞
- HTTP errors (4xx, 5xx) ‚Äî –æ—à–∏–±–∫–∏ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞

---

### 7. LuggifyViewModel ‚Äî –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

```kotlin
data class UiState(
    val isLoading: Boolean = false,
    val error: String? = null,
    val selectedCity: City? = null,
    val startDate: Date? = null,
    val endDate: Date? = null,
    val checklist: Checklist? = null,
    val checkedItems: Set<String> = emptySet(),
    val removedItems: Set<String> = emptySet(),
    val addedItems: List<String> = emptyList(),
    val defaultItems: List<String> = emptyList(),
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
)

class LuggifyViewModel(
    private val repository: LuggifyRepository,
    private val userId: String,
    private val userPreferencesDataStore: UserPreferencesDataStore?
) : ViewModel() {
    
    private val _uiState = MutableStateFlow(UiState())
    val uiState: StateFlow<UiState> = _uiState.asStateFlow()
    
    init {
        loadSavedPreferences()
    }
}
```

**–ü–æ—á–µ–º—É StateFlow:**
- ‚úÖ **Reactive** ‚Äî UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ **Thread-safe** ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–∑ —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤
- ‚úÖ **Lifecycle-aware** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É
- ‚úÖ **Hot stream** ‚Äî –≤—Å–µ–≥–¥–∞ —Ö—Ä–∞–Ω–∏—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

**–ü–æ—á–µ–º—É data class –¥–ª—è UiState:**
- ‚úÖ **Immutable** ‚Äî –Ω–µ–ª—å–∑—è —Å–ª—É—á–∞–π–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å
- ‚úÖ **Copy function** ‚Äî –ª–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–æ** ‚Äî –≤—Å—ë —Å–æ—Å—Ç–æ—è–Ω–∏–µ UI –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ

---

### 8. –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å API ‚Äî –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ–∫–ª–∏—Å—Ç–∞

```kotlin
fun generatePackingList() {
    val selectedCity = _uiState.value.selectedCity
    val startDate = _uiState.value.startDate
    val endDate = _uiState.value.endDate

    // –í–∞–ª–∏–¥–∞—Ü–∏—è
    if (selectedCity == null || startDate == null || endDate == null) {
        _uiState.value = _uiState.value.copy(
            error = "–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!"
        )
        return
    }

    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º –¥–∞—Ç—ã
    val dateFormat = SimpleDateFormat("yyyy-MM-dd", Locale.getDefault())
    val request = PackingRequest(
        city = selectedCity.fullName,
        start_date = dateFormat.format(startDate),
        end_date = dateFormat.format(endDate)
    )

    // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å
    viewModelScope.launch {
        _uiState.value = _uiState.value.copy(isLoading = true, error = null)

        repository.generatePackingList(request).fold(
            onSuccess = { checklist ->
                // –î–æ–±–∞–≤–ª—è–µ–º –≤–µ—â–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                val defaultItems = _uiState.value.defaultItems
                _uiState.value = _uiState.value.copy(
                    isLoading = false,
                    checklist = checklist,
                    addedItems = defaultItems,  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º
                    isDirty = defaultItems.isNotEmpty()
                )
            },
            onFailure = { error ->
                _uiState.value = _uiState.value.copy(
                    isLoading = false,
                    error = error.message
                )
            }
        )
    }
}
```

**–ü–æ—á–µ–º—É viewModelScope.launch:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ ViewModel
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —É–ø—Ä–∞–≤–ª—è—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∫–æ—Ä—É—Ç–∏–Ω—ã
- ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ (UI thread)

**–ü–æ—á–µ–º—É Result.fold:**
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- ‚úÖ –Ø–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ (—É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞)
- ‚úÖ –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –∑–∞–±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ—à–∏–±–∫—É

---

### 9. HomeScreen ‚Äî –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω

```kotlin
@Composable
fun HomeScreen(
    viewModel: LuggifyViewModel,
    onNavigateToChecklist: (String) -> Unit,
    onNavigateToMyChecklists: () -> Unit
) {
    val uiState by viewModel.uiState.collectAsState()
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —á–µ–∫–ª–∏—Å—Ç–∞
    LaunchedEffect(uiState.checklist?.slug) {
        uiState.checklist?.slug?.let { slug ->
            onNavigateToChecklist(slug)
        }
    }
    
    Column {
        // –õ–æ–≥–æ—Ç–∏–ø –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ
        // –í—ã–±–æ—Ä –≥–æ—Ä–æ–¥–∞
        CitySelect(...)
        
        // –í—ã–±–æ—Ä –¥–∞—Ç
        DateRangePicker(...)
        
        // –ö–Ω–æ–ø–∫–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
        Button(onClick = { viewModel.generatePackingList() }) {
            Text("–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫")
        }
        
        // –ú–æ–∏ —á–µ–∫–ª–∏—Å—Ç—ã
        OutlinedButton(onClick = onNavigateToMyChecklists) {
            Text("–ú–æ–∏ —á–µ–∫–ª–∏—Å—Ç—ã")
        }
        
        // –í–µ—â–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        DefaultItemsManager(...)
    }
}
```

**–ü–æ—á–µ–º—É LaunchedEffect:**
- ‚úÖ –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–ª—é—á–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `checklist.slug`
- ‚úÖ –û—Ç–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ Composable

**–ü–æ—á–µ–º—É collectAsState:**
- ‚úÖ –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ StateFlow
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—é –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- ‚úÖ Lifecycle-aware ‚Äî –æ—Ç–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏

---

### 10. CitySelect ‚Äî –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ —Å debounce

```kotlin
@Composable
fun CitySelect(...) {
    var searchQuery by remember { mutableStateOf("") }
    
    // Debounce –¥–ª—è –ø–æ–∏—Å–∫–∞
    LaunchedEffect(searchQuery) {
        if (searchQuery != selectedCity?.fullName && searchQuery.isNotEmpty()) {
            delay(300)  // –ñ–¥–µ–º 300–º—Å
            if (searchQuery.isNotEmpty()) {
                onSearchQueryChanged(searchQuery)
            }
        }
    }
    
    OutlinedTextField(
        value = searchQuery,
        onValueChange = { searchQuery = it },
        ...
    )
    
    // –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å –≥–æ—Ä–æ–¥–∞–º–∏
    DropdownMenu(...) {
        cities.forEach { city ->
            DropdownMenuItem(onClick = { onCitySelected(city) }) {
                Text(city.fullName)
            }
        }
    }
}
```

**–ü–æ—á–µ–º—É debounce (–∑–∞–¥–µ—Ä–∂–∫–∞):**
- ‚úÖ –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à–∏
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏–º —Ç—Ä–∞—Ñ–∏–∫ –∏ –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- ‚úÖ –ñ–¥–µ–º –ø–æ–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–∫–æ–Ω—á–∏—Ç –≤–≤–æ–¥–∏—Ç—å
- ‚úÖ 300–º—Å ‚Äî –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–µ —Å–ª–∏—à–∫–æ–º –±—ã—Å—Ç—Ä–æ –∏ –Ω–µ —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ)

---

### 11. DateRangePicker ‚Äî –í—ã–±–æ—Ä –¥–∞—Ç —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

```kotlin
@OptIn(ExperimentalMaterial3Api::class)
@Composable
fun DateRangePicker(...) {
    val calendar = Calendar.getInstance()
    val today = calendar.apply {
        set(Calendar.HOUR_OF_DAY, 0)
        set(Calendar.MINUTE, 0)
        set(Calendar.SECOND, 0)
        set(Calendar.MILLISECOND, 0)
    }.timeInMillis
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è: –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ –Ω–µ —Ä–∞–Ω—å—à–µ —Å–µ–≥–æ–¥–Ω—è
    if (date.time >= today) {
        onStartDateSelected(date)
    }
    
    // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è = –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞
    val minEndDate = if (selectedStartDate.time >= today) {
        selectedStartDate.time
    } else {
        today
    }
}
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- ‚úÖ –ù–µ–ª—å–∑—è –≤—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É —Ä–∞–Ω—å—à–µ —Å–µ–≥–æ–¥–Ω—è
- ‚úÖ –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞
- ‚úÖ –í—Ä–µ–º—è –æ–±–Ω—É–ª—è–µ—Ç—Å—è –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –¥–∞—Ç

---

### 12. ChecklistScreen ‚Äî –†–∞–±–æ—Ç–∞ —Å —á–µ–∫–ª–∏—Å—Ç–æ–º

```kotlin
@Composable
fun ChecklistScreen(slug: String, viewModel: LuggifyViewModel, ...) {
    val uiState by viewModel.uiState.collectAsState()
    
    // –ó–∞–≥—Ä—É–∂–∞–µ–º —á–µ–∫–ª–∏—Å—Ç –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
    LaunchedEffect(slug) {
        if (uiState.checklist?.slug != slug) {
            viewModel.loadChecklist(slug)
        }
    }
    
    // –í–∏–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã = –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ - —É–¥–∞–ª–µ–Ω–Ω—ã–µ + –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ
    val visibleItems = checklist.items
        .filter { !uiState.removedItems.contains(it) }
        .plus(uiState.addedItems)
    
    LazyColumn {
        items(visibleItems) { item ->
            ChecklistItem(
                item = item,
                isChecked = uiState.checkedItems.contains(item),
                onCheckedChange = { viewModel.toggleItemChecked(item) },
                onRemove = { viewModel.removeItem(item) }
            )
        }
    }
}
```

**–ü–æ—á–µ–º—É LazyColumn:**
- ‚úÖ –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∏ recycling

**–õ–æ–≥–∏–∫–∞ –≤–∏–¥–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:**
1. –ë–µ—Ä–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –≤–µ—â–∏ –∏–∑ `checklist.items`
2. –£–±–∏—Ä–∞–µ–º —Ç–µ, —á—Ç–æ –≤ `removedItems`
3. –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ, —á—Ç–æ –≤ `addedItems`

---

## –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ–∫–ª–∏—Å—Ç–∞

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫"
   ‚Üì
2. HomeScreen –≤—ã–∑—ã–≤–∞–µ—Ç viewModel.generatePackingList()
   ‚Üì
3. ViewModel —Å–æ–∑–¥–∞–µ—Ç PackingRequest –∏ –≤—ã–∑—ã–≤–∞–µ—Ç repository
   ‚Üì
4. Repository –¥–µ–ª–∞–µ—Ç POST –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ Retrofit
   ‚Üì
5. Backend –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —á–µ–∫–ª–∏—Å—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–≥–æ–¥—ã
   ‚Üì
6. Retrofit –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç JSON –≤ Checklist –æ–±—ä–µ–∫—Ç
   ‚Üì
7. Repository –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç Result.success(checklist)
   ‚Üì
8. ViewModel –¥–æ–±–∞–≤–ª—è–µ—Ç defaultItems –≤ addedItems
   ‚Üì
9. ViewModel –æ–±–Ω–æ–≤–ª—è–µ—Ç _uiState.value
   ‚Üì
10. StateFlow —ç–º–∏—Ç–∏—Ç –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
   ‚Üì
11. HomeScreen –ø–æ–ª—É—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ collectAsState()
   ‚Üì
12. LaunchedEffect –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–µ checklist.slug
   ‚Üì
13. –í—ã–∑—ã–≤–∞–µ—Ç—Å—è onNavigateToChecklist(slug)
   ‚Üì
14. NavController –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –Ω–∞ "checklist/{slug}"
```

### 2. –ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤ —Å debounce

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç "–ú–æ—Å" –≤ –ø–æ–ª–µ –≥–æ—Ä–æ–¥–∞
   ‚Üì
2. searchQuery –º–µ–Ω—è–µ—Ç—Å—è ‚Üí "–ú" ‚Üí "–ú–æ" ‚Üí "–ú–æ—Å"
   ‚Üì
3. LaunchedEffect –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏
   ‚Üì
4. delay(300) –∂–¥–µ—Ç 300–º—Å
   ‚Üì
5. –ï—Å–ª–∏ –∑–∞ 300–º—Å –Ω–µ –±—ã–ª–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Üí –¥–µ–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å
   ‚Üì
6. CitySelect –≤—ã–∑—ã–≤–∞–µ—Ç onSearchQueryChanged("–ú–æ—Å")
   ‚Üì
7. HomeScreen –≤—ã–∑—ã–≤–∞–µ—Ç viewModel.searchCities("–ú–æ—Å")
   ‚Üì
8. Repository –¥–µ–ª–∞–µ—Ç GET –∑–∞–ø—Ä–æ—Å –∫ API
   ‚Üì
9. Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –Ω–∞ "–ú–æ—Å"
   ‚Üì
10. ViewModel –æ–±–Ω–æ–≤–ª—è–µ—Ç uiState.cities
   ‚Üì
11. CitySelect –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç DropdownMenu —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
```

### 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≥–æ—Ä–æ–¥
   ‚Üì
2. viewModel.selectCity(city)
   ‚Üì
3. ViewModel –æ–±–Ω–æ–≤–ª—è–µ—Ç uiState.selectedCity
   ‚Üì
4. ViewModel –≤—ã–∑—ã–≤–∞–µ—Ç dataStore.saveCity(city)
   ‚Üì
5. DataStore —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç JSON –≤ —Ñ–∞–π–ª (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)
   ‚Üì
   
–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—É—Å–∫–µ:

6. ViewModel.init –≤—ã–∑—ã–≤–∞–µ—Ç loadSavedPreferences()
   ‚Üì
7. dataStore.getCity() —á–∏—Ç–∞–µ—Ç –∏–∑ —Ñ–∞–π–ª–∞
   ‚Üì
8. ViewModel —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç city –≤ uiState
   ‚Üì
9. HomeScreen –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π –≥–æ—Ä–æ–¥
```

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –ø–æ—á–µ–º—É –æ–Ω–∏ –≤—ã–±—Ä–∞–Ω—ã

### 1. Jetpack Compose
**–ß—Ç–æ —ç—Ç–æ:** –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI toolkit –¥–ª—è Android

**–ü–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω:**
- ‚úÖ –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–∫–∞–∫ React/SwiftUI)
- ‚úÖ –ú–µ–Ω—å—à–µ –∫–æ–¥–∞ —á–µ–º XML
- ‚úÖ –õ—É—á—à–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è Google
- ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º –∏ –∞–Ω–∏–º–∞—Ü–∏–π

**–ü—Ä–∏–º–µ—Ä:**
```kotlin
// –í–º–µ—Å—Ç–æ XML (50+ —Å—Ç—Ä–æ–∫)
Button(
    onClick = { /* –¥–µ–π—Å—Ç–≤–∏–µ */ },
    colors = ButtonDefaults.buttonColors(...)
) {
    Text("–ù–∞–∂–º–∏ –º–µ–Ω—è")
}
```

---

### 2. Kotlin Coroutines
**–ß—Ç–æ —ç—Ç–æ:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

**–ü–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω–∞:**
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å (–∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥)
- ‚úÖ –ù–µ—Ç callback hell
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ–Ω–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Retrofit

**–ü—Ä–∏–º–µ—Ä:**
```kotlin
// –í–º–µ—Å—Ç–æ callback'–æ–≤
viewModelScope.launch {
    val result = repository.getCities(query)  // suspend —Ñ—É–Ω–∫—Ü–∏—è
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ UI –ø–æ—Ç–æ–∫
    _uiState.value = _uiState.value.copy(cities = result)
}
```

---

### 3. Retrofit
**–ß—Ç–æ —ç—Ç–æ:** HTTP-–∫–ª–∏–µ–Ω—Ç –¥–ª—è Android

**–ü–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è JSON
- ‚úÖ –ü—Ä–æ—Å—Ç–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ API —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ—Ä—É—Ç–∏–Ω
- ‚úÖ –ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç

**–ü—Ä–∏–º–µ—Ä:**
```kotlin
interface LuggifyApi {
    @GET("cities")
    suspend fun getCities(@Query("q") query: String): Response<List<City>>
}
```

---

### 4. DataStore
**–ß—Ç–æ —ç—Ç–æ:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

**–ü–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω–∞ –≤–º–µ—Å—Ç–æ SharedPreferences:**
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è (–Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI)
- ‚úÖ Type-safe
- ‚úÖ –ö–æ—Ä—É—Ç–∏–Ω—ã –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä:**
```kotlin
suspend fun saveCity(city: City) {
    dataStore.edit { preferences ->
        preferences[CITY_KEY] = gson.toJson(city)
    }
}
```

---

### 5. StateFlow
**–ß—Ç–æ —ç—Ç–æ:** –†–µ–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

**–ü–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω –≤–º–µ—Å—Ç–æ LiveData:**
- ‚úÖ –ß–∞—Å—Ç—å Kotlin Coroutines
- ‚úÖ –õ—É—á—à–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Compose
- ‚úÖ Hot stream (–≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ)
- ‚úÖ –ë–æ–ª–µ–µ –≥–∏–±–∫–∏–π API

**–ü—Ä–∏–º–µ—Ä:**
```kotlin
val uiState: StateFlow<UiState> = _uiState.asStateFlow()

// –í Compose
val state by viewModel.uiState.collectAsState()
```

---

### 6. Navigation Compose
**–ß—Ç–æ —ç—Ç–æ:** –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è Compose

**–ü–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω–∞:**
- ‚úÖ –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- ‚úÖ Type-safe –∞—Ä–≥—É–º–µ–Ω—Ç—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π back stack
- ‚úÖ Deep links

**–ü—Ä–∏–º–µ—Ä:**
```kotlin
composable("checklist/{slug}") { backStackEntry ->
    val slug = backStackEntry.arguments?.getString("slug")
    ChecklistScreen(slug = slug)
}
```

---

## –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è: –í–µ—â–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –û–ø–∏—Å–∞–Ω–∏–µ
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤–µ—â–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è** –≤ –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

#### 1. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞
```kotlin
// UserPreferencesDataStore.kt
suspend fun saveDefaultItems(items: List<String>) {
    context.dataStore.edit { preferences ->
        preferences[DEFAULT_ITEMS_KEY] = gson.toJson(items)
    }
}
```

#### 2. –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
```kotlin
// LuggifyViewModel.kt
private fun loadSavedPreferences() {
    viewModelScope.launch {
        val savedDefaultItems = dataStore.getDefaultItems()
        _uiState.value = _uiState.value.copy(
            defaultItems = savedDefaultItems
        )
    }
}
```

#### 3. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
```kotlin
// LuggifyViewModel.kt
fun generatePackingList() {
    repository.generatePackingList(request).fold(
        onSuccess = { checklist ->
            val defaultItems = _uiState.value.defaultItems
            _uiState.value = _uiState.value.copy(
                checklist = checklist,
                addedItems = defaultItems,  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
                isDirty = defaultItems.isNotEmpty()
            )
        }
    )
}
```

#### 4. UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```kotlin
// DefaultItemsManager.kt
@Composable
fun DefaultItemsManager(
    defaultItems: List<String>,
    onAddItem: (String) -> Unit,
    onRemoveItem: (String) -> Unit
) {
    var showDialog by remember { mutableStateOf(false) }
    
    OutlinedButton(onClick = { showDialog = true }) {
        Text("–í–µ—â–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (${defaultItems.size})")
    }
    
    if (showDialog) {
        Dialog(...) {
            // –ü–æ–ª–µ –≤–≤–æ–¥–∞ + –∫–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
            // –°–ø–∏—Å–æ–∫ —Å –∫–Ω–æ–ø–∫–∞–º–∏ —É–¥–∞–ª–µ–Ω–∏—è
        }
    }
}
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ —á–µ–∫–ª–∏—Å—Ç–æ–≤
- ‚úÖ –£–¥–æ–±–Ω–æ –¥–ª—è —á–∞—Å—Ç–æ –ø—É—Ç–µ—à–µ—Å—Ç–≤—É—é—â–∏—Ö
- ‚úÖ –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–¥ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –∑–∞—â–∏—Ç—ã

### 1. –ß—Ç–æ –¥–µ–ª–∞–µ—Ç –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?
**–û—Ç–≤–µ—Ç:** Luggify ‚Äî —ç—Ç–æ —É–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –≤–µ—â–µ–π –¥–ª—è –ø–æ–µ–∑–¥–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞ –∏ –¥–∞—Ç. –û–Ω–æ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–µ—â–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —á–µ–∫–ª–∏—Å—Ç—ã, –æ—Ç–º–µ—á–∞—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –≤–µ—â–∏ –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫ –≤–µ—â–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å–µ–≥–¥–∞ –Ω—É–∂–Ω–æ –±—Ä–∞—Ç—å —Å —Å–æ–±–æ–π.

---

### 2. –ö–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ –ø–æ—á–µ–º—É?
**–û—Ç–≤–µ—Ç:** –Ø –∏—Å–ø–æ–ª—å–∑—É—é MVVM (Model-View-ViewModel) ‚Äî —ç—Ç–æ —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω–∞—è Google –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è Android. 

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- UI (View) –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–¥–µ–ª–µ–Ω –æ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (ViewModel)
- ViewModel –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–µ–∑ UI
- –î–∞–Ω–Ω—ã–µ (Model) –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è UI
- Reactive –ø–æ–¥—Ö–æ–¥ ‚Äî UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- **View** ‚Äî Compose —ç–∫—Ä–∞–Ω—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **ViewModel** ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π
- **Model** ‚Äî –¥–∞–Ω–Ω—ã–µ (Repository, API, DataStore)

---

### 3. –ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å backend?
**–û—Ç–≤–µ—Ç:** –î–ª—è —Ä–∞–±–æ—Ç—ã —Å backend —è –∏—Å–ø–æ–ª—å–∑—É—é Retrofit ‚Äî —ç—Ç–æ HTTP-–∫–ª–∏–µ–Ω—Ç –¥–ª—è Android.

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –û–ø—Ä–µ–¥–µ–ª—è—é API endpoints –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ `LuggifyApi` —Å –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è–º–∏ (@GET, @POST –∏ —Ç.–¥.)
2. Retrofit –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
3. Repository –≤—ã–∑—ã–≤–∞–µ—Ç –º–µ—Ç–æ–¥—ã API –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏
4. –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ (suspend —Ñ—É–Ω–∫—Ü–∏–∏ + –∫–æ—Ä—É—Ç–∏–Ω—ã)
5. JSON –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ä—Å–∏—Ç—Å—è –≤ Kotlin –æ–±—ä–µ–∫—Ç—ã —á–µ—Ä–µ–∑ Gson

**–ü—Ä–∏–º–µ—Ä:**
```kotlin
@GET("geo/cities-autocomplete")
suspend fun getCities(@Query("namePrefix") query: String): Response<List<City>>
```

–≠—Ç–æ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤: `GET https://luggify.onrender.com/geo/cities-autocomplete?namePrefix=–ú–æ—Å–∫–≤–∞`

---

### 4. –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Kotlin Coroutines?
**–û—Ç–≤–µ—Ç:** –ö–æ—Ä—É—Ç–∏–Ω—ã ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Kotlin.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ö–æ–¥ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ
- –ù–µ—Ç callback hell
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–º–µ–Ω–∞ –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ ViewModel
- –õ–µ–≥–∫–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ (try-catch)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Retrofit –∏ –¥—Ä—É–≥–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫

**–ü—Ä–∏–º–µ—Ä:**
```kotlin
viewModelScope.launch {
    val result = repository.getCities(query)  // –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI
    _uiState.value = _uiState.value.copy(cities = result)
}
```

---

### 5. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö?
**–û—Ç–≤–µ—Ç:** –Ø –∏—Å–ø–æ–ª—å–∑—É—é DataStore ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞ SharedPreferences –æ—Ç Google.

**–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
- –í—ã–±—Ä–∞–Ω–Ω—ã–π –≥–æ—Ä–æ–¥ (–≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ)
- –î–∞—Ç—ã –ø–æ–µ–∑–¥–∫–∏ (timestamp)
- –°–ø–∏—Å–æ–∫ –≤–µ—â–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (JSON array)

**–ü–æ—á–µ–º—É DataStore:**
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Äî –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI
- Type-safe ‚Äî –º–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ—Ä—É—Ç–∏–Ω–∞–º–∏
- –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞–ø–∏—Å–∏

**–ü—Ä–æ—Ü–µ—Å—Å:**
1. –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –≥–æ—Ä–æ–¥–∞ ‚Üí `dataStore.saveCity(city)`
2. –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ ‚Üí `dataStore.getCity()` ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ–ª—è

---

### 6. –ß—Ç–æ —Ç–∞–∫–æ–µ StateFlow –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω?
**–û—Ç–≤–µ—Ç:** StateFlow ‚Äî —ç—Ç–æ —Ä–µ–∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ UI.

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. ViewModel —Ö—Ä–∞–Ω–∏—Ç –≤—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –æ–¥–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ `UiState`
2. –≠—Ç–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ–±–µ—Ä–Ω—É—Ç–æ –≤ `StateFlow`
3. UI –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ StateFlow —á–µ—Ä–µ–∑ `collectAsState()`
4. –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è UI **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –ø–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç—Å—è

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- UI –≤—Å–µ–≥–¥–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω —Å –¥–∞–Ω–Ω—ã–º–∏
- Thread-safe ‚Äî –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –∏–∑ –ª—é–±–æ–≥–æ –ø–æ—Ç–æ–∫–∞
- –í—Å–µ–≥–¥–∞ –µ—Å—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (hot stream)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø–∏—Å–∫–∞ –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ —ç–∫—Ä–∞–Ω–∞

---

### 7. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏?
**–û—Ç–≤–µ—Ç:** –Ø –∏—Å–ø–æ–ª—å–∑—É—é Navigation Compose ‚Äî —ç—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

**–ú–∞—Ä—à—Ä—É—Ç—ã:**
- `home` ‚Äî –≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
- `checklist/{slug}` ‚Äî —ç–∫—Ä–∞–Ω —á–µ–∫–ª–∏—Å—Ç–∞ (slug –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä)
- `my-checklists` ‚Äî —Å–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —á–µ–∫–ª–∏—Å—Ç–æ–≤

**–ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ—Ö–æ–¥–∞:**
```kotlin
navController.navigate("checklist/abc123") {
    popUpTo("home") { inclusive = false }
}
```

**–ü–æ—á–µ–º—É —Ç–∞–∫:**
- –î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–æ–ø–∏—Å—ã–≤–∞–µ–º –º–∞—Ä—à—Ä—É—Ç—ã, –Ω–µ —É–ø—Ä–∞–≤–ª—è–µ–º –≤—Ä—É—á–Ω—É—é)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ back stack
- Type-safe –ø–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- Deep links –∏–∑ –∫–æ—Ä–æ–±–∫–∏

---

### 8. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤ —Å debounce?
**–û—Ç–≤–µ—Ç:** Debounce ‚Äî —ç—Ç–æ –∑–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∑–∞–ø—Ä–æ—Å–∞.

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–ø—Ä–æ—Å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –Ω–∞–∂–∞—Ç–∏–∏ –∫–ª–∞–≤–∏—à–∏, –±—É–¥–µ—Ç —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:** –ñ–¥–µ–º 300–º—Å –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–≤–æ–¥–∞, –∏ —Ç–æ–ª—å–∫–æ –ø–æ—Ç–æ–º –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```kotlin
LaunchedEffect(searchQuery) {
    if (searchQuery.isNotEmpty()) {
        delay(300)  // –∂–¥–µ–º 300–º—Å
        if (searchQuery.isNotEmpty()) {
            onSearchQueryChanged(searchQuery)
        }
    }
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–±–∏—Ä–∞–µ—Ç "–ú–æ—Å–∫–≤–∞", –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –ø–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤–≤–æ–¥–∞, –∞ –Ω–µ 6 —Ä–∞–∑ (–ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –±—É–∫–≤).

---

### 9. –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –æ—à–∏–±–∫–∏ —Å–µ—Ç–∏?
**–û—Ç–≤–µ—Ç:** –í—Å–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ Repository —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `handleApiCall`.

**–¢–∏–ø—ã –æ—à–∏–±–æ–∫:**
- `SocketTimeoutException` ‚Äî —Å–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç (—Ç–∞–π–º–∞—É—Ç)
- `UnknownHostException` ‚Äî –Ω–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- `IOException` ‚Äî –æ–±—â–∞—è –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏
- HTTP –æ—à–∏–±–∫–∏ (4xx, 5xx) ‚Äî –æ—à–∏–±–∫–∏ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞

**–û–±—Ä–∞–±–æ—Ç–∫–∞:**
```kotlin
try {
    val response = call()
    if (response.isSuccessful) {
        Result.success(response.body())
    } else {
        Result.failure(Exception("–û—à–∏–±–∫–∞ ${response.code()}"))
    }
} catch (e: SocketTimeoutException) {
    Result.failure(Exception("–¢–∞–π–º–∞—É—Ç"))
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** ViewModel –ø–æ–ª—É—á–∞–µ—Ç Result –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —á–µ—Ä–µ–∑ `uiState.error`.

---

### 10. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ —Ñ—É–Ω–∫—Ü–∏—é "–í–µ—â–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é"
**–û—Ç–≤–µ—Ç:** –≠—Ç–æ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä—É—é —è –¥–æ–±–∞–≤–∏–ª –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å—Ç—å –≤–µ—â–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã –≤ –∫–∞–∂–¥–æ–π –ø–æ–µ–∑–¥–∫–µ (–ø–∞—Å–ø–æ—Ä—Ç, –∑–∞—Ä—è–¥–∫–∞, –æ—á–∫–∏ –∏ —Ç.–¥.), –∏ –∏—Ö –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –¥–æ–±–∞–≤–ª—è—Ç—å –≤—Ä—É—á–Ω—É—é –∫–∞–∂–¥—ã–π —Ä–∞–∑.

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç–∞–∫–∏—Ö –≤–µ—â–µ–π, –∏ –æ–Ω–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ –∫–∞–∂–¥—ã–π –Ω–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
1. –°–ø–∏—Å–æ–∫ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ DataStore (JSON array)
2. –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å–ø–∏—Å–æ–∫ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
3. –ü—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —á–µ–∫–ª–∏—Å—Ç–∞ —ç—Ç–∏ –≤–µ—â–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ `addedItems`
4. UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å –≤–µ—â–∏

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –≠–∫–æ–Ω–æ–º–∏—Ç –≤—Ä–µ–º—è, –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è, —É–¥–æ–±—Å—Ç–≤–æ –¥–ª—è —á–∞—Å—Ç—ã—Ö –ø—É—Ç–µ—à–µ—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤.

---

### 11. –ü–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω Jetpack Compose –≤–º–µ—Å—Ç–æ XML?
**–û—Ç–≤–µ—Ç:** Jetpack Compose ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI toolkit –æ—Ç Google.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- **–ú–µ–Ω—å—à–µ –∫–æ–¥–∞** ‚Äî –Ω–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ XML –∏ Kotlin
- **–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π** ‚Äî –æ–ø–∏—Å—ã–≤–∞–µ–º —á—Ç–æ —Ö–æ—Ç–∏–º, –∞ –Ω–µ –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å
- **Reactive** ‚Äî UI –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- **–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä** ‚Äî –º–æ–∂–Ω–æ —Å—Ä–∞–∑—É –≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Android Studio
- **–õ—É—á—à–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è

**–ü—Ä–∏–º–µ—Ä:**
```kotlin
// –í–º–µ—Å—Ç–æ XML + findViewById + onClick
Button(
    onClick = { viewModel.generateList() },
    colors = ButtonDefaults.buttonColors(...)
) {
    if (isLoading) CircularProgressIndicator()
    Text("–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å")
}
```

---

### 12. –ö–∞–∫ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ UI?
**–û—Ç–≤–µ—Ç:** –í—Å–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ UI —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ–¥–Ω–æ–º data class `UiState`.

**–ü–æ—á–µ–º—É —Ç–∞–∫:**
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–æ** ‚Äî –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ UI –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- **Immutable** ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–µ–ª—å–∑—è —Å–ª—É—á–∞–π–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å
- **Predictable** ‚Äî –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **Testable** ‚Äî –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä UiState:**
```kotlin
data class UiState(
    val isLoading: Boolean = false,
    val error: String? = null,
    val selectedCity: City? = null,
    val checklist: Checklist? = null,
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
)
```

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è:**
```kotlin
_uiState.value = _uiState.value.copy(isLoading = true)
```

---

### 13. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞—Ç?
**–û—Ç–≤–µ—Ç:** –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –¥–≤—É—Ö —É—Ä–æ–≤–Ω—è—Ö:

**1. –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞:**
- –ù–µ–ª—å–∑—è –≤—ã–±—Ä–∞—Ç—å –¥–∞—Ç—É —Ä–∞–Ω—å—à–µ —Å–µ–≥–æ–¥–Ω—è—à–Ω–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞: `if (date.time >= today)`

**2. –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è:**
- –ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è = –¥–∞—Ç–∞ –Ω–∞—á–∞–ª–∞

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```kotlin
val today = Calendar.getInstance().apply {
    set(Calendar.HOUR_OF_DAY, 0)
    set(Calendar.MINUTE, 0)
    set(Calendar.SECOND, 0)
}.timeInMillis

if (date.time >= today) {
    onStartDateSelected(date)
}
```

---

### 14. –ß—Ç–æ —Ç–∞–∫–æ–µ Repository –ø–∞—Ç—Ç–µ—Ä–Ω?
**–û—Ç–≤–µ—Ç:** Repository ‚Äî —ç—Ç–æ —Å–ª–æ–π –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏ –º–µ–∂–¥—É ViewModel –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö.

**–ó–∞—á–µ–º –Ω—É–∂–µ–Ω:**
- ViewModel –Ω–µ –∑–Ω–∞–µ—Ç –æ—Ç–∫—É–¥–∞ –±–µ—Ä—É—Ç—Å—è –¥–∞–Ω–Ω—ã–µ (API, –±–∞–∑–∞, –∫—ç—à)
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–º–æ–∂–Ω–æ –∑–∞–º–æ–∫–∞—Ç—å)
- –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è ViewModel

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
ViewModel ‚Üí Repository ‚Üí API
                      ‚Üí Database
                      ‚Üí Cache
```

**–ü—Ä–∏–º–µ—Ä:**
```kotlin
class LuggifyRepository {
    suspend fun getCities(query: String): Result<List<City>> {
        // ViewModel –Ω–µ –∑–Ω–∞–µ—Ç —á—Ç–æ —ç—Ç–æ API –∑–∞–ø—Ä–æ—Å
        // –ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
        return handleApiCall { api.getCities(query) }
    }
}
```

---

### 15. –ö–∞–∫ –ø–æ–ª—É—á–∞–µ—Ç—Å—è ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?
**–û—Ç–≤–µ—Ç:** –Ø –∏—Å–ø–æ–ª—å–∑—É—é ANDROID_ID ‚Äî —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

**–ö–æ–¥:**
```kotlin
val userId = Settings.Secure.getString(
    context.contentResolver,
    Settings.Secure.ANDROID_ID
)
```

**–ü–æ—á–µ–º—É ANDROID_ID:**
- –£–Ω–∏–∫–∞–ª–µ–Ω –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –ù–µ –º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–º–µ—Å—Ç–æ Telegram user_id

**Fallback:** –ï—Å–ª–∏ ANDROID_ID –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω—ã–π ID –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 MainActivity                         ‚îÇ
‚îÇ  1. –°–æ–∑–¥–∞–µ—Ç UserIdHelper                            ‚îÇ
‚îÇ  2. –°–æ–∑–¥–∞–µ—Ç UserPreferencesDataStore                ‚îÇ
‚îÇ  3. –°–æ–∑–¥–∞–µ—Ç LuggifyViewModel                        ‚îÇ
‚îÇ  4. –ó–∞–ø—É—Å–∫–∞–µ—Ç Compose UI                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              LuggifyViewModel.init                   ‚îÇ
‚îÇ  1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏                 ‚îÇ
‚îÇ  2. –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≥–æ—Ä–æ–¥, –¥–∞—Ç—ã, –≤–µ—â–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                  HomeScreen                          ‚îÇ
‚îÇ  1. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ                   ‚îÇ
‚îÇ  2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –≥–æ—Ä–æ–¥ ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è       ‚îÇ
‚îÇ  3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –¥–∞—Ç—ã ‚Üí —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è        ‚îÇ
‚îÇ  4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      ViewModel.generatePackingList()                 ‚îÇ
‚îÇ  1. –°–æ–∑–¥–∞–µ—Ç PackingRequest                          ‚îÇ
‚îÇ  2. –í—ã–∑—ã–≤–∞–µ—Ç Repository                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      Repository.generatePackingList()                ‚îÇ
‚îÇ  1. –í—ã–∑—ã–≤–∞–µ—Ç API —á–µ—Ä–µ–∑ Retrofit                     ‚îÇ
‚îÇ  2. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏                             ‚îÇ
‚îÇ  3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Result<Checklist>                    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ           Backend API (FastAPI)                      ‚îÇ
‚îÇ  1. –ü–æ–ª—É—á–∞–µ—Ç –∑–∞–ø—Ä–æ—Å                                 ‚îÇ
‚îÇ  2. –ó–∞–≥—Ä—É–∂–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã                        ‚îÇ
‚îÇ  3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ø–∏—Å–æ–∫ –≤–µ—â–µ–π                         ‚îÇ
‚îÇ  4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç Checklist —Å –ø—Ä–æ–≥–Ω–æ–∑–æ–º                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              ViewModel –æ–±–Ω–æ–≤–ª—è–µ—Ç State               ‚îÇ
‚îÇ  1. –î–æ–±–∞–≤–ª—è–µ—Ç –≤–µ—â–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é                     ‚îÇ
‚îÇ  2. –û–±–Ω–æ–≤–ª—è–µ—Ç _uiState.value                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ            StateFlow —ç–º–∏—Ç–∏—Ç –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      HomeScreen.LaunchedEffect –≤–∏–¥–∏—Ç slug            ‚îÇ
‚îÇ      ‚Üí navController.navigate("checklist/...")       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              ChecklistScreen                         ‚îÇ
‚îÇ  1. –ó–∞–≥—Ä—É–∂–∞–µ—Ç —á–µ–∫–ª–∏—Å—Ç (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)                  ‚îÇ
‚îÇ  2. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤–µ—â–µ–π                         ‚îÇ
‚îÇ  3. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã                       ‚îÇ
‚îÇ  4. –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–º–µ—á–∞—Ç—å/–¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å –≤–µ—â–∏       ‚îÇ
‚îÇ  5. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä                   ‚îÇ
‚îÇ  6. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ "–ú–æ–∏ —á–µ–∫–ª–∏—Å—Ç—ã"                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

---

## –ö–∞–≤–µ—Ä–∑–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –æ—Ç –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è (—Å –æ—Ç–≤–µ—Ç–∞–º–∏)

### üî¥ –ü—Ä–æ—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã

#### 1. –ü–æ—á–µ–º—É –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `suspend` —Ñ—É–Ω–∫—Ü–∏–∏ –≤ API –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ?
**–û—Ç–≤–µ—Ç:** `suspend` —Ñ—É–Ω–∫—Ü–∏–∏ ‚Äî —ç—Ç–æ —á–∞—Å—Ç—å Kotlin Coroutines. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–∏—Å–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π. Retrofit –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç suspend —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ HTTP-–∑–∞–ø—Ä–æ—Å—ã. –≠—Ç–æ –∏–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç callback hell –∏ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ —á–∏—Ç–∞–µ–º—ã–º.

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ú–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Call<T>` —Å callback'–∞–º–∏, –Ω–æ —ç—Ç–æ –º–µ–Ω–µ–µ —É–¥–æ–±–Ω–æ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

---

#### 2. –ó–∞—á–µ–º –Ω—É–∂–µ–Ω `remember` –≤ Compose?
**–û—Ç–≤–µ—Ç:** `remember` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è–º–∏. –ë–µ–∑ –Ω–µ–≥–æ –ø—Ä–∏ –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–µ UI –∑–Ω–∞—á–µ–Ω–∏–µ –±—ã —Å–±—Ä–∞—Å—ã–≤–∞–ª–æ—Å—å. –ù–∞–ø—Ä–∏–º–µ—Ä, –≤ `CitySelect`:
```kotlin
var searchQuery by remember(selectedCity) { 
    mutableStateOf(selectedCity?.fullName ?: "") 
}
```
`remember(selectedCity)` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `selectedCity`.

---

#### 3. –ü–æ—á–µ–º—É `MutableStateFlow` –ø—Ä–∏–≤–∞—Ç–Ω—ã–π, –∞ `StateFlow` –ø—É–±–ª–∏—á–Ω—ã–π?
**–û—Ç–≤–µ—Ç:** –≠—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏. `MutableStateFlow` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ, –∞ `StateFlow` ‚Äî —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å. ViewModel –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º, –∫—Ç–æ –∏–∑–º–µ–Ω—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ, –ø–æ—ç—Ç–æ–º—É `_uiState` –ø—Ä–∏–≤–∞—Ç–Ω—ã–π. UI –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–ª—å–∫–æ read-only –≤–µ—Ä—Å–∏—é —á–µ—Ä–µ–∑ `asStateFlow()`.

**–ï—Å–ª–∏ –±—ã –±—ã–ª–æ –ø—É–±–ª–∏—á–Ω–æ:** –õ—é–±–æ–π –º–æ–≥ –±—ã –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞–ø—Ä—è–º—É—é, —á—Ç–æ –Ω–∞—Ä—É—à–∏–ª–æ –±—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É.

---

#### 4. –ó–∞—á–µ–º –Ω—É–∂–µ–Ω `LaunchedEffect`?
**–û—Ç–≤–µ—Ç:** `LaunchedEffect` –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (side effects) –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–ª—é—á–∞. –ù–∞–ø—Ä–∏–º–µ—Ä:
```kotlin
LaunchedEffect(slug) {
    if (uiState.checklist?.slug != slug) {
        viewModel.loadChecklist(slug)
    }
}
```
–≠—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `slug` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ Composable. –ë–µ–∑ –Ω–µ–≥–æ –ø—Ä–∏—à–ª–æ—Å—å –±—ã –≤—Ä—É—á–Ω—É—é —É–ø—Ä–∞–≤–ª—è—Ç—å –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –∫–æ—Ä—É—Ç–∏–Ω—ã.

---

#### 5. –ü–æ—á–µ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `Result<T>` –≤–º–µ—Å—Ç–æ try-catch?
**–û—Ç–≤–µ—Ç:** `Result<T>` ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫. –û–Ω —è–≤–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞: —É—Å–ø–µ—Ö –∏–ª–∏ –æ—à–∏–±–∫–∞. –ú–µ—Ç–æ–¥ `fold()` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –º—ã –æ–±—Ä–∞–±–æ—Ç–∞–µ–º –æ–±–∞ —Å–ª—É—á–∞—è. –≠—Ç–æ –¥–µ–ª–∞–µ—Ç –∫–æ–¥ –±–æ–ª–µ–µ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–º –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–º.

**–ü—Ä–∏–º–µ—Ä:**
```kotlin
repository.getCities(query).fold(
    onSuccess = { cities -> /* –æ–±—Ä–∞–±–æ—Ç–∫–∞ —É—Å–ø–µ—Ö–∞ */ },
    onFailure = { error -> /* –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ */ }
)
```

---

### üü° –°—Ä–µ–¥–Ω–∏–µ –≤–æ–ø—Ä–æ—Å—ã

#### 6. –ú–æ–∂–µ—Ç –ª–∏ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ race condition –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º –≤–≤–æ–¥–µ –≤ –ø–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤?
**–û—Ç–≤–µ—Ç:** –î–∞, —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–∂–µ—Ç, –Ω–æ —è –∑–∞—â–∏—Ç–∏–ª—Å—è –æ—Ç —ç—Ç–æ–≥–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏:

1. **Debounce 300–º—Å** ‚Äî –∑–∞–ø—Ä–æ—Å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–∞—É–∑—ã –≤ –≤–≤–æ–¥–µ
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ LaunchedEffect:**
```kotlin
LaunchedEffect(searchQuery) {
    if (searchQuery != selectedCity?.fullName && searchQuery.isNotEmpty()) {
        delay(300)
        if (searchQuery.isNotEmpty()) {  // –ü—Ä–æ–≤–µ—Ä—è–µ–º –µ—â–µ —Ä–∞–∑!
            onSearchQueryChanged(searchQuery)
        }
    }
}
```
–í—Ç–æ—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ `searchQuery.isNotEmpty()` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –º—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–∏–º —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∑–∞–ø—Ä–æ—Å.

**–ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `flow.debounce()` –∏–ª–∏ –æ—Ç–º–µ–Ω—è—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∑–∞–ø—Ä–æ—Å —á–µ—Ä–µ–∑ `Job`.

---

#### 7. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ –Ω–∞–∂–º–µ—Ç "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Å–æ–∫" –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑?
**–û—Ç–≤–µ—Ç:** –°–µ–π—á–∞—Å –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ù–æ —è –∑–∞—â–∏—Ç–∏–ª—Å—è:

1. **–ö–Ω–æ–ø–∫–∞ disabled –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏:**
```kotlin
Button(
    enabled = !uiState.isLoading && ...
)
```

2. **ViewModel –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```kotlin
_uiState.value = _uiState.value.copy(isLoading = true)
```
–ü–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π.

**–ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:** –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É `if (!isLoading)` –≤ –Ω–∞—á–∞–ª–µ —Ñ—É–Ω–∫—Ü–∏–∏.

---

#### 8. –ú–æ–∂–µ—Ç –ª–∏ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏ (memory leak) –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏?
**–û—Ç–≤–µ—Ç:** –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –¥–∞, –Ω–æ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:

1. **viewModelScope** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è–µ—Ç –∫–æ—Ä—É—Ç–∏–Ω—ã –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ ViewModel
2. **collectAsState()** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –æ—Ç StateFlow
3. **LaunchedEffect** ‚Äî –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–∏ Composable

**–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ ViewModel –∂–∏–≤–µ—Ç –¥–æ–ª—å—à–µ Activity (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ ViewModelStoreOwner), –∫–æ—Ä—É—Ç–∏–Ω—ã –º–æ–≥—É—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å. –ù–æ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è MVVM.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LeakCanary –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —É—Ç–µ—á–µ–∫.

---

#### 9. –ü–æ—á–µ–º—É –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `Set<String>` –¥–ª—è `checkedItems`, –∞ `List<String>` –¥–ª—è `addedItems`?
**–û—Ç–≤–µ—Ç:** –û—Ç–ª–∏—á–Ω—ã–π –≤–æ–ø—Ä–æ—Å! –≠—Ç–æ –æ—Å–æ–∑–Ω–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:

- **`Set<String>` –¥–ª—è `checkedItems`** ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ—Ä—è–¥–æ–∫ –Ω–µ –≤–∞–∂–µ–Ω, –∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `contains()` –≤ Set ‚Äî O(1), –∞ –≤ List ‚Äî O(n). –¢–∞–∫–∂–µ Set –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã.

- **`List<String>` –¥–ª—è `addedItems`** ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ—Ä—è–¥–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤–∞–∂–µ–Ω –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –≤–µ—â–∏ –≤ —Ç–æ–º –ø–æ—Ä—è–¥–∫–µ, –≤ –∫–æ—Ç–æ—Ä–æ–º –∏—Ö –¥–æ–±–∞–≤–ª—è–ª.

**–ú–æ–∂–Ω–æ –±—ã–ª–æ –±—ã:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å LinkedHashSet –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞, –Ω–æ List –ø—Ä–æ—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ.

---

#### 10. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω–µ—Ç –æ—à–∏–±–∫—É 500 –≤–æ –≤—Ä–µ–º—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —á–µ–∫–ª–∏—Å—Ç–∞?
**–û—Ç–≤–µ—Ç:** –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∞–µ—Ç—Å—è –≤ `Repository.handleApiCall()`:

```kotlin
when {
    response.isSuccessful && response.body() != null -> {
        Result.success(response.body()!!)
    }
    else -> {
        val errorBody = response.errorBody()?.string() ?: "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞"
        Result.failure(Exception("$errorMessage (${response.code()}): $errorBody"))
    }
}
```

–ó–∞—Ç–µ–º –≤ ViewModel:
```kotlin
onFailure = { error ->
    _uiState.value = _uiState.value.copy(
        isLoading = false,
        error = error.message
    )
}
```

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤ UI. –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞.

---

#### 11. –ü–æ—á–µ–º—É –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `Gson` –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤ DataStore, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å—Ç—Ä–æ–∫–∏?
**–û—Ç–≤–µ—Ç:** –ü–æ—Ç–æ–º—É —á—Ç–æ –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã:

- **City** ‚Äî –æ–±—ä–µ–∫—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø–æ–ª—è–º–∏ (name, country, lat, lon, fullName)
- **List<String>** –¥–ª—è defaultItems ‚Äî –º–∞—Å—Å–∏–≤ —Å—Ç—Ä–æ–∫

DataStore –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã–µ —Ç–∏–ø—ã (String, Int, Long, Boolean). –î–ª—è —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –Ω—É–∂–Ω–æ —Å–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ JSON.

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:**
- Protobuf (–±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ, –Ω–æ —Å–ª–æ–∂–Ω–µ–µ)
- Kotlinx Serialization (–±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –Ω–æ Gson –ø—Ä–æ—â–µ)

---

#### 12. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä–æ–µ—Ç —á–µ–∫–ª–∏—Å—Ç, –∞ –ø–æ—Ç–æ–º –±—ã—Å—Ç—Ä–æ –≤–µ—Ä–Ω–µ—Ç—Å—è –Ω–∞–∑–∞–¥ –∏ –æ—Ç–∫—Ä–æ–µ—Ç –¥—Ä—É–≥–æ–π?
**–û—Ç–≤–µ—Ç:** –í `ChecklistScreen` –µ—Å—Ç—å –∑–∞—â–∏—Ç–∞:

```kotlin
LaunchedEffect(slug) {
    if (uiState.checklist?.slug != slug) {
        viewModel.loadChecklist(slug)
    }
}
```

–ü—Ä–æ–≤–µ—Ä–∫–∞ `uiState.checklist?.slug != slug` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É, –µ—Å–ª–∏ —á–µ–∫–ª–∏—Å—Ç —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω. –ù–æ –µ—Å–ª–∏ slug –¥—Ä—É–≥–æ–π, –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –Ω–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç.

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è, –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ù–æ —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ ‚Äî –ø–æ—Å–ª–µ–¥–Ω–∏–π –∑–∞–ø—Ä–æ—Å –ø–µ—Ä–µ–∑–∞–ø–∏—à–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

---

### üü† –°–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

#### 13. –ú–æ–∂–µ—Ç –ª–∏ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≥–æ–Ω–∫–∏ (race condition) –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤–µ—â–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?
**–û—Ç–≤–µ—Ç:** –î–∞, —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–∂–µ—Ç! –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ –¥–æ–±–∞–≤–ª—è–µ—Ç/—É–¥–∞–ª—è–µ—Ç –≤–µ—â–∏:

```kotlin
fun addDefaultItem(item: String) {
    val currentDefaultItems = _uiState.value.defaultItems.toMutableList()
    // ... –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ
    userPreferencesDataStore?.let { dataStore ->
        viewModelScope.launch {
            dataStore.saveDefaultItems(currentDefaultItems)
        }
    }
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –¥–≤–∞ –≤—ã–∑–æ–≤–∞ –ø—Ä–æ–∏–∑–æ–π–¥—É—Ç –ø–æ—á—Ç–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –≤—Ç–æ—Ä–æ–π –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –ø–µ—Ä–≤—ã–π.

**–†–µ—à–µ–Ω–∏–µ:** DataStore –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (`edit`), –Ω–æ –ª—É—á—à–µ –¥–æ–±–∞–≤–∏—Ç—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é:

```kotlin
private val saveJob = AtomicReference<Job?>(null)

fun addDefaultItem(item: String) {
    // ...
    saveJob.get()?.cancel()
    saveJob.set(viewModelScope.launch {
        dataStore.saveDefaultItems(currentDefaultItems)
    })
}
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Mutex` –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

---

#### 14. –ü–æ—á–µ–º—É –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Å–ø–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤?
**–û—Ç–≤–µ—Ç:** –•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! –Ø –Ω–µ –¥–æ–±–∞–≤–∏–ª –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –ø—Ä–∏—á–∏–Ω–∞–º:

1. **–°–ø–∏—Å–æ–∫ –≥–æ—Ä–æ–¥–æ–≤ –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è** ‚Äî –Ω–æ–≤—ã–µ –≥–æ—Ä–æ–¥–∞ –º–æ–≥—É—Ç –ø–æ—è–≤–∏—Ç—å—Å—è –≤ –±–∞–∑–µ
2. **–†–∞–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** ‚Äî "–ú–æ—Å–∫" –∏ "–ú–æ—Å–∫–≤–∞" ‚Äî —Ä–∞–∑–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
3. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏** ‚Äî –¥–ª—è MVP —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ

**–ö–∞–∫ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:**
```kotlin
private val citiesCache = mutableMapOf<String, List<City>>()

suspend fun getCities(query: String): Result<List<City>> {
    citiesCache[query]?.let { return Result.success(it) }
    // ... –∑–∞–ø—Ä–æ—Å –∫ API
    citiesCache[query] = cities
    return Result.success(cities)
}
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Ç–∏–ø–∞ Room –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è.

---

#### 15. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä–æ–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞?
**–û—Ç–≤–µ—Ç:** –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–µ–π—Å—Ç–≤–∏—è:

1. **–û—Ç–∫—Ä—ã—Ç–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ DataStore
2. **–ü–æ–∏—Å–∫ –≥–æ—Ä–æ–¥–æ–≤** ‚Äî –ø–æ–∫–∞–∂–µ—Ç –æ—à–∏–±–∫—É "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É"
3. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ–∫–ª–∏—Å—Ç–∞** ‚Äî –ø–æ–∫–∞–∂–µ—Ç –æ—à–∏–±–∫—É —Å–µ—Ç–∏
4. **–û—Ç–∫—Ä—ã—Ç–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ —á–µ–∫–ª–∏—Å—Ç–∞** ‚Äî –µ—Å–ª–∏ –æ–Ω —É–∂–µ –∑–∞–≥—Ä—É–∂–µ–Ω, –ø–æ–∫–∞–∂–µ—Ç. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –æ—à–∏–±–∫–∞

**–ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:** –î–æ–±–∞–≤–∏—Ç—å –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º —Å –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö (Room), —á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —á–µ–∫–ª–∏—Å—Ç—ã –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.

---

#### 16. –ü–æ—á–µ–º—É –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `remember(selectedCity)` –≤ CitySelect, –∞ –Ω–µ –ø—Ä–æ—Å—Ç–æ `remember`?
**–û—Ç–≤–µ—Ç:** –ü–æ—Ç–æ–º—É —á—Ç–æ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `selectedCity`:

```kotlin
var searchQuery by remember(selectedCity) { 
    mutableStateOf(selectedCity?.fullName ?: "") 
}
```

–ï—Å–ª–∏ –±—ã –±—ã–ª–æ –ø—Ä–æ—Å—Ç–æ `remember`, —Ç–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `selectedCity` –∏–∑–≤–Ω–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ –≥–æ—Ä–æ–¥–∞), `searchQuery` –Ω–µ –æ–±–Ω–æ–≤–∏–ª—Å—è –±—ã.

**–ö–ª—é—á `selectedCity`** –æ–∑–Ω–∞—á–∞–µ—Ç: "–ø–µ—Ä–µ—Å–æ–∑–¥–∞–π –∑–Ω–∞—á–µ–Ω–∏–µ, –µ—Å–ª–∏ `selectedCity` –∏–∑–º–µ–Ω–∏–ª—Å—è".

---

#### 17. –ú–æ–∂–µ—Ç –ª–∏ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ç–∞–π–º–∑–æ–Ω–∞–º–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –¥–∞—Ç–∞–º–∏?
**–û—Ç–≤–µ—Ç:** –î–∞, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –º–æ–∂–µ—Ç! –Ø –∏—Å–ø–æ–ª—å–∑—É—é:

```kotlin
val dateFormat = SimpleDateFormat("yyyy-MM-dd", Locale.getDefault())
```

`SimpleDateFormat` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é —Ç–∞–π–º–∑–æ–Ω—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ú–æ—Å–∫–≤–µ –≤—ã–±–∏—Ä–∞–µ—Ç –¥–∞—Ç—É, –∞ —Å–µ—Ä–≤–µ—Ä –≤ UTC, –º–æ–∂–µ—Ç –±—ã—Ç—å —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ.

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç "25 –¥–µ–∫–∞–±—Ä—è", –∞ —Å–µ—Ä–≤–µ—Ä –≤ –¥—Ä—É–≥–æ–π —Ç–∞–π–º–∑–æ–Ω–µ, –º–æ–∂–µ—Ç –±—ã—Ç—å "24 –¥–µ–∫–∞–±—Ä—è".

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `LocalDate` –∏–∑ Java 8+ –∏–ª–∏ —è–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–∞–π–º–∑–æ–Ω—É:
```kotlin
val dateFormat = SimpleDateFormat("yyyy-MM-dd", Locale.getDefault()).apply {
    timeZone = TimeZone.getTimeZone("UTC")
}
```

–ò–ª–∏ –ª—É—á—à–µ ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π `java.time.LocalDate`.

---

#### 18. –ü–æ—á–µ–º—É –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Dependency Injection (DI)?
**–û—Ç–≤–µ—Ç:** –î–ª—è MVP –ø—Ä–æ–µ–∫—Ç–∞ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –ø—Ä–æ—Å—Ç–æ–π –ø–æ–¥—Ö–æ–¥ –±–µ–∑ DI. –ù–æ —ç—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å!

**–¢–µ–∫—É—â–∏–π –ø–æ–¥—Ö–æ–¥:**
```kotlin
val repository = LuggifyRepository()
val viewModel = LuggifyViewModel(repository, userId, dataStore)
```

**–° DI (–Ω–∞–ø—Ä–∏–º–µ—Ä, Hilt):**
```kotlin
@HiltAndroidApp
class MainActivity : ComponentActivity() {
    @Inject lateinit var viewModel: LuggifyViewModel
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ DI:**
- –õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å (–º–æ–∂–Ω–æ –ø–æ–¥–º–µ–Ω–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º
- –ú–µ–Ω—å—à–µ boilerplate –∫–æ–¥–∞

**–ü–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª:** –î–ª—è –Ω–µ–±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ —ç—Ç–æ –∏–∑–±—ã—Ç–æ—á–Ω–æ, –Ω–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.

---

#### 19. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω–µ—Ç –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π —Å–ø–∏—Å–æ–∫ –≤–µ—â–µ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1000 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)?
**–û—Ç–≤–µ—Ç:** –°–µ–π—á–∞—Å –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é:

1. **LazyColumn** ‚Äî —Ö–æ—Ä–æ—à–æ, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
2. **–ù–æ:** –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –≤—Å–µ —Ä–∞–≤–Ω–æ –≤ –ø–∞–º—è—Ç–∏ –≤ `uiState.checklist.items`
3. **–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –æ–ø–µ—Ä–∞—Ü–∏—è—Ö —Å–æ —Å–ø–∏—Å–∫–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞–≥–∏–Ω–∞—Ü–∏—é –Ω–∞ –±—ç–∫–µ–Ω–¥–µ
- –ò–ª–∏ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é —Å–ø–∏—Å–∫–∞
- –ò–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ (–º–∞–∫—Å–∏–º—É–º 100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤)

**–°–µ–π—á–∞—Å:** –î–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö —á–µ–∫–ª–∏—Å—Ç–æ–≤ —ç—Ç–æ –Ω–µ –ø—Ä–æ–±–ª–µ–º–∞, –Ω–æ —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å.

---

#### 20. –ü–æ—á–µ–º—É –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `!!` (double bang) –≤ –∫–æ–¥–µ?
**–û—Ç–≤–µ—Ç:** –Ø –∏—Å–ø–æ–ª—å–∑—É—é `!!` –≤ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö:

```kotlin
response.body()!!
```

–≠—Ç–æ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:
```kotlin
if (response.isSuccessful && response.body() != null) {
    Result.success(response.body()!!)
}
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ:** –ú—ã —É–∂–µ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏, —á—Ç–æ `body()` –Ω–µ null. `!!` –≥–æ–≤–æ—Ä–∏—Ç –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É: "–Ø —É–≤–µ—Ä–µ–Ω, —á—Ç–æ —ç—Ç–æ –Ω–µ null".

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `let`:
```kotlin
response.body()?.let { Result.success(it) }
```

–ù–æ –≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ `!!` —á–∏—Ç–∞–±–µ–ª—å–Ω–µ–µ, —Ç–∞–∫ –∫–∞–∫ –º—ã —É–∂–µ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ null.

---

### üî¥ –û—á–µ–Ω—å —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã

#### 21. –ú–æ–∂–µ—Ç –ª–∏ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–µ–π –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è —á–µ–∫–ª–∏—Å—Ç–∞?
**–û—Ç–≤–µ—Ç:** –î–∞, –º–æ–∂–µ—Ç! –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—ã—Å—Ç—Ä–æ:
1. –û—Ç–º–µ—á–∞–µ—Ç –≤–µ—â—å
2. –£–¥–∞–ª—è–µ—Ç –≤–µ—â—å
3. –î–æ–±–∞–≤–ª—è–µ—Ç –≤–µ—â—å
4. –ù–∞–∂–∏–º–∞–µ—Ç "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"

–ú–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ PATCH –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ.

**–¢–µ–∫—É—â–∞—è –∑–∞—â–∏—Ç–∞:**
```kotlin
val isDirty = true  // –ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–π
```

–ù–æ –Ω–µ—Ç –∑–∞—â–∏—Ç—ã –æ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**
```kotlin
private var saveJob: Job? = null

fun saveChecklistState() {
    saveJob?.cancel()  // –û—Ç–º–µ–Ω—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∑–∞–ø—Ä–æ—Å
    saveJob = viewModelScope.launch {
        // ... —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
    }
}
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—á–µ—Ä–µ–¥—å –∑–∞–ø—Ä–æ—Å–æ–≤.

---

#### 22. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä–æ–µ—Ç —á–µ–∫–ª–∏—Å—Ç, –∞ –ø–æ—Ç–æ–º –∏–∑–º–µ–Ω–∏—Ç –µ–≥–æ –Ω–∞ –¥—Ä—É–≥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ?
**–û—Ç–≤–µ—Ç:** –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –≠—Ç–æ –ø—Ä–æ–±–ª–µ–º–∞ eventual consistency.

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –ß–µ–∫–ª–∏—Å—Ç –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏
- –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
- –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (version field –≤ Checklist)
- –ü—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è –ª–∏ —á–µ–∫–ª–∏—Å—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ä–∞–∑—Ä–µ—à–∏—Ç—å

**–ò–ª–∏:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WebSocket –¥–ª—è real-time —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

---

#### 23. –ü–æ—á–µ–º—É –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Room –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è?
**–û—Ç–≤–µ—Ç:** –î–ª—è MVP —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ç–æ–ª—å–∫–æ DataStore –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫. Room –¥–æ–±–∞–≤–∏–ª –±—ã:

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ–∫–ª–∏—Å—Ç–æ–≤ –æ—Ñ–ª–∞–π–Ω
- –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –±–µ–∑ —Å–µ—Ç–∏
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º

**–ü–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª:**
- –£—Å–ª–æ–∂–Ω—è–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- –î–ª—è MVP –∏–∑–±—ã—Ç–æ—á–Ω–æ
- DataStore –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω Room:**
- –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º
- –ï—Å–ª–∏ –º–Ω–æ–≥–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- –ï—Å–ª–∏ –Ω—É–∂–Ω—ã —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

---

#### 24. –ú–æ–∂–µ—Ç –ª–∏ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø–æ—Ä—è–¥–∫–æ–º –æ–ø–µ—Ä–∞—Ü–∏–π –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≤–µ—â–µ–π –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?
**–û—Ç–≤–µ—Ç:** –î–∞, –º–æ–∂–µ—Ç! –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ–∫–ª–∏—Å—Ç ‚Üí `addedItems = []`
2. –î–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤–µ—â–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ‚Üí `addedItems = defaultItems`
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–≤–æ—é –≤–µ—â—å ‚Üí `addedItems = defaultItems + [–Ω–æ–≤–∞—è]`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–∏—Ç –≤–µ—â—å –∏–∑ defaultItems, –æ–Ω–∞ –≤—Å–µ —Ä–∞–≤–Ω–æ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –≤ —á–µ–∫–ª–∏—Å—Ç–µ, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω–∞ —É–∂–µ –≤ `addedItems`.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∏–∑ defaultItems –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —á–µ–∫–ª–∏—Å—Ç—ã –∏ —É–¥–∞–ª—è—Ç—å –æ—Ç—Ç—É–¥–∞. –ù–æ —ç—Ç–æ —Å–ª–æ–∂–Ω–æ.

**–ò–ª–∏:** –•—Ä–∞–Ω–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ `defaultItems` –∏ `userAddedItems`, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Ä–∞–∑–ª–∏—á–∞—Ç—å.

---

#### 25. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω–µ—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON?
**–û—Ç–≤–µ—Ç:** Gson –≤—ã–±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏:

```kotlin
GsonConverterFactory.create()
```

–ò—Å–∫–ª—é—á–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ–π–º–∞–Ω–æ –≤ `handleApiCall`:
```kotlin
catch (e: Exception) {
    Result.failure(Exception("$errorMessage: ${e.message}"))
}
```

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç –æ—à–∏–±–∫—É. –≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ.

**–ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:** –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –¥–µ—Ç–∞–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞:
```kotlin
catch (e: JsonSyntaxException) {
    Result.failure(Exception("–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞"))
}
```

---

#### 26. –ü–æ—á–µ–º—É –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ `object ApiClient` –≤–º–µ—Å—Ç–æ –∫–ª–∞—Å—Å–∞?
**–û—Ç–≤–µ—Ç:** `object` –≤ Kotlin ‚Äî —ç—Ç–æ singleton. API –∫–ª–∏–µ–Ω—Ç –Ω—É–∂–µ–Ω –æ–¥–∏–Ω –Ω–∞ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ—ç—Ç–æ–º—É singleton –∏–¥–µ–∞–ª–µ–Ω.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –û–¥–∏–Ω —ç–∫–∑–µ–º–ø–ª—è—Ä –Ω–∞ –≤—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- Thread-safe

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DI (Hilt) —Å `@Singleton`, –Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ `object` –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

---

#### 27. –ú–æ–∂–µ—Ç –ª–∏ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ä—É—Å—Å–∫–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ –≥–æ—Ä–æ–¥–æ–≤?
**–û—Ç–≤–µ—Ç:** –¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–∂–µ—Ç, –Ω–æ Retrofit –∏ OkHttp –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç UTF-8 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã/–æ—Ç–≤–µ—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ UTF-8. –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω–µ—Ç –Ω–µ UTF-8, –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã.

**–†–µ—à–µ–Ω–∏–µ:** –Ø–≤–Ω–æ —É–∫–∞–∑–∞—Ç—å –∫–æ–¥–∏—Ä–æ–≤–∫—É –≤ Retrofit (–Ω–æ –æ–±—ã—á–Ω–æ –Ω–µ –Ω—É–∂–Ω–æ, —Ç–∞–∫ –∫–∞–∫ UTF-8 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

---

#### 28. –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç, –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–µ—Ä–µ—Ç –¥–∞—Ç—É, –∞ –ø–æ—Ç–æ–º –∏–∑–º–µ–Ω–∏—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é –¥–∞—Ç—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞?
**–û—Ç–≤–µ—Ç:** –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–∞—è –¥–∞—Ç–∞ –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –ø—Ä–µ–∂–Ω–µ–π (—ç—Ç–æ timestamp), –Ω–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å—Å—è:

```kotlin
val today = Calendar.getInstance()...
if (date.time >= today) { ... }
```

–ï—Å–ª–∏ —Å–∏—Å—Ç–µ–º–Ω–∞—è –¥–∞—Ç–∞ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å, `today` –±—É–¥–µ—Ç –¥—Ä—É–≥–æ–π, –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏, –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–Ω—è—Ç—å, —á—Ç–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

#### 29. –ü–æ—á–µ–º—É –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Flow –¥–ª—è —Å–ø–∏—Å–∫–∞ –≥–æ—Ä–æ–¥–æ–≤ –≤–º–µ—Å—Ç–æ List?
**–û—Ç–≤–µ—Ç:** –•–æ—Ä–æ—à–∏–π –≤–æ–ø—Ä–æ—Å! –ú–æ–∂–Ω–æ –±—ã–ª–æ –±—ã:

```kotlin
val cities: Flow<List<City>> = flow {
    // ...
}
```

**–ü–æ—á–µ–º—É –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª:**
- –î–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–ø–∏—Å–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ StateFlow/List –ø—Ä–æ—â–µ
- –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –ø–æ—Ç–æ–∫–µ –¥–∞–Ω–Ω—ã—Ö
- List –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–ö–æ–≥–¥–∞ –Ω—É–∂–µ–Ω Flow:**
- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –ï—Å–ª–∏ –Ω—É–∂–Ω—ã –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã (map, filter, etc.)
- –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤

---

#### 30. –ú–æ–∂–µ—Ç –ª–∏ –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Ä–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–π?
**–û—Ç–≤–µ—Ç:** –î–∞, —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –º–æ–∂–µ—Ç. Compose –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏, –Ω–æ –µ—Å–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–µ–Ω—è–µ—Ç—Å—è –æ—á–µ–Ω—å —á–∞—Å—Ç–æ, –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞.

**–ó–∞—â–∏—Ç–∞:**
- –ò—Å–ø–æ–ª—å–∑—É—é `remember` –¥–ª—è –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- `LazyColumn` –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ (–ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)
- `key()` –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤

**–ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `derivedStateOf` –¥–ª—è –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–π —á–µ—Ä–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–æ—Å—Ç–æ—è–Ω–∏—è

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:
- ‚úÖ –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ Android —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É MVVM
- ‚úÖ Reactive –ø–æ–¥—Ö–æ–¥ —Å StateFlow
- ‚úÖ –†–∞–±–æ—Ç—É —Å REST API —á–µ—Ä–µ–∑ Retrofit
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å —Å Kotlin Coroutines
- ‚úÖ Jetpack Compose –¥–ª—è UI
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å DataStore
- ‚úÖ –ù–∞–≤–∏–≥–∞—Ü–∏—é —Å Navigation Compose
- ‚úÖ Material Design 3

**–£–¥–∞—á–∏ –Ω–∞ –∑–∞—â–∏—Ç–µ! üöÄ**

